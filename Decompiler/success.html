<!doctype html>
<html>
  <style>
    p.title {
      font-size: 50px;
      font-weight:bold;
      text-align:center
    }
    p.body {
    font-size: 30px;
    text-align:cleft;
    /* font-weight: bold; */
    }
    p.contact {
    font-family: 'Lucida Console', monospace;
    font-size: 20px;
    margin-right: 450px;
    margin-left: 450px;
    font-weight: bold;
    background-color: rgb(182, 163, 163);
    text-align: center;
    }
    img.center {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 50%;
    }
  </style>
  <head>
    <title>Decompiler Tool</title>
  </head>
  
<script>
  async function verifyPayment() {
      const params = new URLSearchParams(window.location.search);
      const sessionId = params.get("session_id");

      if (sessionId) {
          const response = await fetch(`https://api.stripe.com/v1/checkout/sessions/${sessionId}`, {
              headers: { "Authorization": `Bearer YOUR_STRIPE_SECRET_KEY` }
          });
          const session = await response.json();

          if (session.payment_status === "paid") {
              const signedUrlResponse = await fetch("https://nkfes7w4l9.execute-api.us-east-1.amazonaws.com/default/GenerateSignedUrl");
              const { signedUrl } = await signedUrlResponse.json();

              document.getElementById("access-link").href = signedUrl;
              document.getElementById("access-container").style.display = "block";
          }
      }
  }

  verifyPayment();
</script>
<p class="contact"><a href="mailto:curran@clayheartengineering.com">Email</a> us.</p>
  </body>
